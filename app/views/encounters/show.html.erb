<h1>Encounter</h1>

<%= button_to "Calculate results", { action: "simulate", params: { id: @encounters.id } }, { class: "simulate_button" } %>

<h2>Enemies</h2>

<ul>
    <% @encounters.enemy.creatures.each do |creature| %>
        <li>
        <%= creature.creaturetype.name %>
        </li>
    <% end %>

</ul>

<table>
<thead>
  <tr>
    <th>HP pool</th>
    <th><%= @encounters.enemy.HPpool %></th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>Dmg per round</td>
    <td><%= @encounters.enemy.DmgPerRound.round(2) %></td>
  </tr>
</tbody>
</table>

<%= button_to "Add creature", { action: "add_enemy", params: { id: @encounters.id } }, { class: "add_button" } %>

<h2>Party</h2>

<ul>
    <% @encounters.party.players.each do |player| %>
        <li>
        <%= player.name %>
        </li>
    <% end %>

</ul>

<table>
<tbody>
  <tr>
    <th>HP pool</th>
    <th><%= @encounters.party.HPpool %></th>
  </tr>
  <tr>
    <td>Dmg per round</td>
    <td><%= @encounters.party.DmgPerRound.round(2) %></td>
  </tr>
</tbody>
</table>

<%= button_to "Add player", { action: "add_party", params: { id: @encounters.id } }, { class: "add_button" } %>

<h2>Create</h2>

<%= link_to "Creatures", action: "index", controller: "creaturetypes" %>

<%= link_to "Players", action: "index", controller: "players" %>
